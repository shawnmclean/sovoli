import type { Photo } from "~/modules/core/photos/types";
import type { ProjectsModule } from "~/modules/projects/types";
import { COVE_PRIMARY_NEEDS } from "./needs";

// Photos extracted from all 4 Airtable records and deduplicated
// Deduplication by assetId (primary), then publicId (fallback), then caption (last resort)
const allPhotos: Photo[] = [
  // From cove-primary records
  {
    url: "https://res.cloudinary.com/dipyku9mn/image/upload/v1763998808/o/cove-primary/projects/t5t9k7zhqo6j30uqml5be04o.webp",
    publicId: "o/cove-primary/projects/t5t9k7zhqo6j30uqml5be04o",
    assetId: "89d6a9d93d6e87952153c4ade040d48b",
    bucket: "o/cove-primary/projects",
    uploadedAt: "2025-11-24T15:40:08Z",
    bytes: 120046,
    width: 3000,
    height: 4000,
    format: "webp",
    version: 1763998808,
    caption: "1000126526.jpg",
    alt: "1000126526.jpg",
    category: "default",
  },
  {
    url: "https://res.cloudinary.com/dipyku9mn/image/upload/v1763998808/o/cove-primary/projects/icjlycl3fdhq18pa26jcwo56.webp",
    publicId: "o/cove-primary/projects/icjlycl3fdhq18pa26jcwo56",
    assetId: "f2494d83f5e831589ed24ec9cbdcbe72",
    bucket: "o/cove-primary/projects",
    uploadedAt: "2025-11-24T15:40:08Z",
    bytes: 185742,
    width: 3000,
    height: 4000,
    format: "webp",
    version: 1763998808,
    caption: "1000126642.jpg",
    alt: "1000126642.jpg",
    category: "default",
  },
  {
    url: "https://res.cloudinary.com/dipyku9mn/image/upload/v1763998808/o/cove-primary/projects/ao6tfglyrlvzfdb18140b3t1.webp",
    publicId: "o/cove-primary/projects/ao6tfglyrlvzfdb18140b3t1",
    assetId: "4ea4132bdd83ef7bc0b365becaf2a7f3",
    bucket: "o/cove-primary/projects",
    uploadedAt: "2025-11-24T15:40:08Z",
    bytes: 296606,
    width: 3000,
    height: 4000,
    format: "webp",
    version: 1763998808,
    caption: "1000126649.jpg",
    alt: "1000126649.jpg",
    category: "default",
  },
  {
    url: "https://res.cloudinary.com/dipyku9mn/image/upload/v1763998809/o/cove-primary/projects/b5x5o703am9nkbzonxti3j1f.webp",
    publicId: "o/cove-primary/projects/b5x5o703am9nkbzonxti3j1f",
    assetId: "708410712a93c30c2c28ced3400dca16",
    bucket: "o/cove-primary/projects",
    uploadedAt: "2025-11-24T15:40:09Z",
    bytes: 426398,
    width: 3000,
    height: 4000,
    format: "webp",
    version: 1763998809,
    caption: "1000126647.jpg",
    alt: "1000126647.jpg",
    category: "default",
  },
  {
    url: "https://res.cloudinary.com/dipyku9mn/image/upload/v1763998810/o/cove-primary/projects/u6z47rexv4mn9tr3vtk4zs2q.webp",
    publicId: "o/cove-primary/projects/u6z47rexv4mn9tr3vtk4zs2q",
    assetId: "efdba6fb868383ca688d98700c305d7d",
    bucket: "o/cove-primary/projects",
    uploadedAt: "2025-11-24T15:40:10Z",
    bytes: 201224,
    width: 3000,
    height: 4000,
    format: "webp",
    version: 1763998810,
    caption: "1000126645.jpg",
    alt: "1000126645.jpg",
    category: "default",
  },
  {
    url: "https://res.cloudinary.com/dipyku9mn/image/upload/v1763998812/o/cove-primary/projects/isol9xs4eve71w6yzl97an73.webp",
    publicId: "o/cove-primary/projects/isol9xs4eve71w6yzl97an73",
    assetId: "dcb299c471f90f4d7738cfc505c0a95e",
    bucket: "o/cove-primary/projects",
    uploadedAt: "2025-11-24T15:40:12Z",
    bytes: 373366,
    width: 3000,
    height: 4000,
    format: "webp",
    version: 1763998812,
    caption: "1000126646.jpg",
    alt: "1000126646.jpg",
    category: "default",
  },
  {
    url: "https://res.cloudinary.com/dipyku9mn/image/upload/v1763998813/o/cove-primary/projects/a61fekzink3vif5arpjku8eg.webp",
    publicId: "o/cove-primary/projects/a61fekzink3vif5arpjku8eg",
    assetId: "a65907888ea73ec84b3b5bf191edd71a",
    bucket: "o/cove-primary/projects",
    uploadedAt: "2025-11-24T15:40:13Z",
    bytes: 901780,
    width: 4000,
    height: 3000,
    format: "webp",
    version: 1763998813,
    caption: "1000126655.jpg",
    alt: "1000126655.jpg",
    category: "default",
  },
  {
    url: "https://res.cloudinary.com/dipyku9mn/image/upload/v1763998814/o/cove-primary/projects/qxcw8eydv8fpf1td1gw6vchd.webp",
    publicId: "o/cove-primary/projects/qxcw8eydv8fpf1td1gw6vchd",
    assetId: "13062af18d623093ebe27699fabe2905",
    bucket: "o/cove-primary/projects",
    uploadedAt: "2025-11-24T15:40:14Z",
    bytes: 1081172,
    width: 4000,
    height: 3000,
    format: "webp",
    version: 1763998814,
    caption: "1000126656.jpg",
    alt: "1000126656.jpg",
    category: "default",
  },
  {
    url: "https://res.cloudinary.com/dipyku9mn/image/upload/v1763998816/o/cove-primary/projects/r4qq1npd8s4njtzo4r0tx01o.webp",
    publicId: "o/cove-primary/projects/r4qq1npd8s4njtzo4r0tx01o",
    assetId: "2ec108f36cd1fd9a852b83ca09824215",
    bucket: "o/cove-primary/projects",
    uploadedAt: "2025-11-24T15:40:16Z",
    bytes: 1006348,
    width: 4000,
    height: 3000,
    format: "webp",
    version: 1763998816,
    caption: "1000126654.jpg",
    alt: "1000126654.jpg",
    category: "default",
  },
  {
    url: "https://res.cloudinary.com/dipyku9mn/image/upload/v1763998818/o/cove-primary/projects/skibpj1q3lu645qzya0qwv8b.webp",
    publicId: "o/cove-primary/projects/skibpj1q3lu645qzya0qwv8b",
    assetId: "7ce551261f3d179e8947f46fbaf42019",
    bucket: "o/cove-primary/projects",
    uploadedAt: "2025-11-24T15:40:18Z",
    bytes: 1435764,
    width: 4000,
    height: 3000,
    format: "webp",
    version: 1763998818,
    caption: "1000126653.jpg",
    alt: "1000126653.jpg",
    category: "default",
  },
  // Additional unique photos from cove-primary-school records (deduplicated)
  {
    url: "https://res.cloudinary.com/dipyku9mn/image/upload/v1763997936/o/cove-primary-school/projects/ronwx02mej10brsx5s1mj2um.webp",
    publicId: "o/cove-primary-school/projects/ronwx02mej10brsx5s1mj2um",
    assetId: "8e356f48769687c408d78d0ade6b8df7",
    bucket: "o/cove-primary-school/projects",
    uploadedAt: "2025-11-24T15:25:36Z",
    bytes: 37516,
    width: 900,
    height: 1600,
    format: "webp",
    version: 1763997936,
    caption: "1000126699.jpg",
    alt: "1000126699.jpg",
    category: "default",
  },
  {
    url: "https://res.cloudinary.com/dipyku9mn/image/upload/v1763997940/o/cove-primary-school/projects/sojdokdvxujo81ng67l2wgrw.webp",
    publicId: "o/cove-primary-school/projects/sojdokdvxujo81ng67l2wgrw",
    assetId: "0ab0f736bff0a7d319cb172140443a37",
    bucket: "o/cove-primary-school/projects",
    uploadedAt: "2025-11-24T15:25:40Z",
    bytes: 102540,
    width: 3000,
    height: 4000,
    format: "webp",
    version: 1763997940,
    caption: "1000126537.jpg",
    alt: "1000126537.jpg",
    category: "default",
  },
  {
    url: "https://res.cloudinary.com/dipyku9mn/image/upload/v1763997958/o/cove-primary-school/projects/hyhvu2aj9inhsxql4kn8co0d.webp",
    publicId: "o/cove-primary-school/projects/hyhvu2aj9inhsxql4kn8co0d",
    assetId: "ce387a09837cb51e17f1580a5558cdc5",
    bucket: "o/cove-primary-school/projects",
    uploadedAt: "2025-11-24T15:25:58Z",
    bytes: 671356,
    width: 2160,
    height: 3840,
    format: "webp",
    version: 1763997958,
    caption: "1000133442.jpg",
    alt: "1000133442.jpg",
    category: "default",
  },
  {
    url: "https://res.cloudinary.com/dipyku9mn/image/upload/v1763997975/o/cove-primary-school/projects/p4a9qz6qymkr4s05vbkx54mm.webp",
    publicId: "o/cove-primary-school/projects/p4a9qz6qymkr4s05vbkx54mm",
    assetId: "7bfd8e58d6844ddd41a20c18bee06279",
    bucket: "o/cove-primary-school/projects",
    uploadedAt: "2025-11-24T15:26:15Z",
    bytes: 633180,
    width: 2160,
    height: 3840,
    format: "webp",
    version: 1763997975,
    caption: "1000133444.jpg",
    alt: "1000133444.jpg",
    category: "default",
  },
  {
    url: "https://res.cloudinary.com/dipyku9mn/image/upload/v1763997979/o/cove-primary-school/projects/lbxrcfez3z3cbkcqlfsjdvu4.webp",
    publicId: "o/cove-primary-school/projects/lbxrcfez3z3cbkcqlfsjdvu4",
    assetId: "714af76f2b7084cffd4a39e94c7bde4a",
    bucket: "o/cove-primary-school/projects",
    uploadedAt: "2025-11-24T15:26:19Z",
    bytes: 984126,
    width: 2160,
    height: 3840,
    format: "webp",
    version: 1763997979,
    caption: "1000133452.jpg",
    alt: "1000133452.jpg",
    category: "default",
  },
  {
    url: "https://res.cloudinary.com/dipyku9mn/image/upload/v1763997979/o/cove-primary-school/projects/vv40ea8w1vl41e6hwmn0ooiv.webp",
    publicId: "o/cove-primary-school/projects/vv40ea8w1vl41e6hwmn0ooiv",
    assetId: "46f34d74cf8836fd608a647dd1af5ba4",
    bucket: "o/cove-primary-school/projects",
    uploadedAt: "2025-11-24T15:26:19Z",
    bytes: 327878,
    width: 2160,
    height: 3840,
    format: "webp",
    version: 1763997979,
    caption: "1000133462.jpg",
    alt: "1000133462.jpg",
    category: "default",
  },
  {
    url: "https://res.cloudinary.com/dipyku9mn/image/upload/v1763997985/o/cove-primary-school/projects/tmzgexoy2ywshamv2zl9ykda.webp",
    publicId: "o/cove-primary-school/projects/tmzgexoy2ywshamv2zl9ykda",
    assetId: "c5df828debd02b409669cc470046ea1c",
    bucket: "o/cove-primary-school/projects",
    uploadedAt: "2025-11-24T15:26:25Z",
    bytes: 721730,
    width: 2160,
    height: 3840,
    format: "webp",
    version: 1763997985,
    caption: "1000133464.jpg",
    alt: "1000133464.jpg",
    category: "default",
  },
];

// Deduplicate photos by assetId, then publicId, then caption
const photoMap = new Map<string, Photo>();
for (const photo of allPhotos) {
  const key =
    photo.assetId ??
    photo.publicId ??
    photo.caption ??
    photo.url;
  if (!photoMap.has(key)) {
    photoMap.set(key, photo);
  }
}
const deduplicatedPhotos = Array.from(photoMap.values());

// Combined project descriptions from all submissions
const projectDescription = `1. Roof completely caved in
2. Damaged furniture and equipment
3. Electrical wires damaged
4. Loss of teaching resources and supplies
5. Damaged solar source`;

export const COVE_PRIMARY_PROJECTS: ProjectsModule = {
  projects: [
    {
      id: "cove-primary-hurricane-recovery-2025",
      title: "Hurricane Recovery and Infrastructure Repair",
      description: projectDescription,
      category: "relief",
      status: "planned",
      priority: "critical",
      locationKey: "main-campus",
      startDate: "2025-11-24",
      internal: false,
      needs: COVE_PRIMARY_NEEDS.needs,
      photos: deduplicatedPhotos,
      tags: ["hurricane", "relief", "infrastructure"],
      notes:
        "Combined from multiple submissions. Principal: Patrice Campbell. Critical infrastructure damage requiring immediate attention.",
      createdAt: "2025-11-24",
      updatedAt: "2025-11-24",
    },
  ],
};
